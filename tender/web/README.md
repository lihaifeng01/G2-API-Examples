# 招采音视频demo

## 项目概述

- 招采音视频Demo是一个基于网易云信RTC技术的远程在线音视频评标室解决方案，支持评标专家、代理（主持人）和监督人员多角色远程协同评标。

## 功能特点

- 会议链接生成：创建包含不同角色（评标专家、代理主持人、监督人员）的专属会议链接
- 设备检测与环境准备：支持Chrome浏览器检测、音视频设备授权检查和预览
- 实时音视频会议：多人实时音视频通话，支持摄像头开关、麦克风静音、变声效果等
- 角色权限控制：不同角色拥有不同的操作权限和功能体验
- 远程协同评标：支持远程共享屏幕，实现多人协同办公

## 项目结构

```
tender-app/
├── src/ # 源码目录
│ ├── app.tsx # 应用入口
│ ├── assets/ # 静态资源（图片等）
│ ├── common/ # 全局常量定义
│ ├── components/ # 公共组件
│ │ ├── attendee-list/ # 与会人列表组件
│ │ ├── controller/ # 媒体控制组件
│ │ ├── description/ # 描述组件
│ │ ├── leave-button/ # 退出按钮组件
│ │ ├── nav/ # 导航栏组件
│ │ ├── preview-local/ # 本地视频预览组件
│ │ ├── preview-remote/ # 远程视频预览组件
│ │ ├── rtc-manager/ # RTC管理器
│ │ └── video-card/ # 视频卡片组件
│ ├── config/ # 全局配置
│ ├── hooks/ # 自定义Hooks
│ ├── layouts/ # 公共布局
│ ├── models/ # 全局状态管理
│ ├── pages/ # 页面目录
│ │ ├── default/ # 退出评标会议后的默认页面
│ │ ├── home/ # 评标会议准备页面（设备检测）
│ │ ├── invite/ # 评标会议链接生成页面
│ │ └── tender/ # 评标会议页面（主会议室）
│ ├── types/ # 类型定义
│ └── utils/ # 工具函数
├── .umirc.ts # UmiJS配置
├── package.json # 依赖配置
└── tsconfig.json # TypeScript配置
```

## 主要功能模块说明

1. 会议链接生成模块 (/invite)

- 设置评标项目名称、时间及参会人员
- 自动生成不同角色的专属会议链接
- 支持复制全部链接信息到剪贴板

2. 会议准备模块 (/home)

- Chrome浏览器检测
- 麦克风和摄像头权限检测
- 视频预览和设备切换
- 支持选择不同的音频和视频输入设备

3. 在线评标模块 (/tender)

- 实时音视频会议
- 支持音频控制（静音/取消静音、变声效果）
- 支持视频控制（开启/关闭摄像头）
- 与会者列表管理
- 屏幕共享功能
- 会议退出确认

## 角色说明

- 评标专家：参与评标的专业人员
- 代理（主持人）：会议主持人
- 监督人员：对评标过程进行监督的角色

## 安装和运行

### 环境要求

- 脚手架: umi4
- 环境要求：node v18.x
- 运行环境：Chrome浏览器

### 开发环境启动

- 修改 src/config/index.tsx中的相关配置
- npm install
- npm run dev

### 打包

- npm run build

### 部署 （内部使用，外部客户请忽略）

- npm run sync:online（线上环境）
- npm run sync:test（测试环境）

### 使用说明

- 创建评标间并生成会议链接
- 将链接按照角色分类分发给不同的参会人员
- 使用Chrome浏览器打开链接加入评标间

### 开发人员注意事项

- 本地启动后，打开 http://localhost:8000/#/invite 生成会议链接，并通过会议链接进入评标间
- 打包时默认path为/webdemo/tender/，如需修改请到.umirc.ts配置publicPath
- 该demo无生成房间限制，打开任意一个会议链接可直接创建RTC房间并入会
- 该demo使用url param控制RTC房间和角色
- 该demo无关闭房间能力，当评标结束后，再次打开任意一个链接，仍会创建同一个ChannelName的RTC房间
- 支持私有化配置，需至src/config/index.tsx中修改相关配置
